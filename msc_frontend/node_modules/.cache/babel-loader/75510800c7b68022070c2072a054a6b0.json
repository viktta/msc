{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/victor/Documents/Projects/msc/msc_frontend/src/App.js\";\nimport React, { Component } from \"react\";\nimport SpotifyWebApi from \"spotify-web-api-js\";\nimport { IoIosShuffle } from \"react-icons/io\";\nimport { FaArrowAltCircleLeft } from \"react-icons/fa\";\nimport { FaPauseCircle } from \"react-icons/fa\";\nconst spotifyApi = new SpotifyWebApi();\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    const params = this.getHashParams();\n    const token = params.access_token;\n\n    if (token) {\n      spotifyApi.setAccessToken(token);\n    }\n\n    this.state = {\n      loggedIn: token ? true : false,\n      user: [],\n      user_id: localStorage.getItem(\"user_id\"),\n      user_prof: {},\n      shuffle: false,\n      repeat_on: false,\n      pause: false,\n      play: false\n    };\n    this.getUser = this.getUser.bind(this);\n    this.setShuffle = this.setShuffle.bind(this);\n    this.skipPrevious = this.skipPrevious.bind(this);\n    this.setPause = this.setPause.bind(this);\n    this.setRepeat = this.setRepeat.bind(this);\n  }\n\n  getHashParams() {\n    var hashParams = {};\n    var e,\n        r = /([^&;=]+)=?([^&;]*)/g,\n        q = window.location.hash.substring(1);\n\n    while (e = r.exec(q)) {\n      hashParams[e[1]] = decodeURIComponent(e[2]);\n    }\n\n    return hashParams;\n  }\n\n  getUser(e) {\n    spotifyApi.getMe().then(res => {\n      this.setState({\n        user: res,\n        user_id: res.id,\n        user_prof: res.images[0].url\n      });\n    });\n  }\n\n  skipPrevious(e) {\n    spotifyApi.skipToPrevious();\n  }\n\n  setShuffle(e) {\n    let {\n      shuffle\n    } = this.state;\n\n    if (shuffle == false) {\n      spotifyApi.setShuffle(true);\n      this.setState({\n        shuffle: true\n      });\n    } else {\n      spotifyApi.setShuffle(false);\n      this.setState({\n        shuffle: false\n      });\n    }\n  }\n\n  setPause(e) {\n    spotifyApi.pause();\n    this.setState({\n      pause: true,\n      play: false\n    });\n  }\n\n  setRepeat(e) {\n    const {\n      repeat_on\n    } = this.state;\n\n    if (repeat_on == false) {\n      spotifyApi.setRepeat(track);\n      this.setState({\n        repeat_on: true\n      });\n    } else {\n      spotifyApi.setRepeat(off);\n      this.setState({\n        repeat_on: false\n      });\n    }\n  }\n\n  setPlay(e) {\n    const {\n      pause\n    } = this.state;\n\n    if (pause == true) {\n      spotifyApi.play();\n      this.setState({\n        play: true,\n        pause: false\n      });\n    } else {\n      spotifyApi.play();\n      this.setState({\n        play: true\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app-grid\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.getUser,\n        children: \"get user\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"id: \", this.state.user_id]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"menu-ul\",\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"http://localhost:8888\",\n          className: \"menu-login\",\n          children: \"login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: this.state.user_prof,\n        alt: \"user profile\",\n        className: \"user-prof\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.setShuffle,\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          children: /*#__PURE__*/_jsxDEV(IoIosShuffle, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.skipPrevious,\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          children: /*#__PURE__*/_jsxDEV(FaArrowAltCircleLeft, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.setPause,\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          children: /*#__PURE__*/_jsxDEV(FaPauseCircle, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.setRepeat\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/victor/Documents/Projects/msc/msc_frontend/src/App.js"],"names":["React","Component","SpotifyWebApi","IoIosShuffle","FaArrowAltCircleLeft","FaPauseCircle","spotifyApi","App","constructor","props","params","getHashParams","token","access_token","setAccessToken","state","loggedIn","user","user_id","localStorage","getItem","user_prof","shuffle","repeat_on","pause","play","getUser","bind","setShuffle","skipPrevious","setPause","setRepeat","hashParams","e","r","q","window","location","hash","substring","exec","decodeURIComponent","getMe","then","res","setState","id","images","url","skipToPrevious","track","off","setPlay","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport SpotifyWebApi from \"spotify-web-api-js\";\nimport { IoIosShuffle } from \"react-icons/io\";\nimport { FaArrowAltCircleLeft } from \"react-icons/fa\";\nimport { FaPauseCircle } from \"react-icons/fa\";\n\nconst spotifyApi = new SpotifyWebApi();\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    const params = this.getHashParams();\n    const token = params.access_token;\n    if (token) {\n      spotifyApi.setAccessToken(token);\n    }\n    this.state = {\n      loggedIn: token ? true : false,\n      user: [],\n      user_id: localStorage.getItem(\"user_id\"),\n      user_prof: {},\n      shuffle: false,\n      repeat_on: false,\n      pause: false,\n      play: false,\n    };\n    this.getUser = this.getUser.bind(this);\n    this.setShuffle = this.setShuffle.bind(this);\n    this.skipPrevious = this.skipPrevious.bind(this);\n    this.setPause = this.setPause.bind(this);\n    this.setRepeat = this.setRepeat.bind(this);\n  }\n\n  getHashParams() {\n    var hashParams = {};\n    var e,\n      r = /([^&;=]+)=?([^&;]*)/g,\n      q = window.location.hash.substring(1);\n    while ((e = r.exec(q))) {\n      hashParams[e[1]] = decodeURIComponent(e[2]);\n    }\n    return hashParams;\n  }\n\n  getUser(e) {\n    spotifyApi.getMe().then((res) => {\n      this.setState({\n        user: res,\n        user_id: res.id,\n        user_prof: res.images[0].url,\n      });\n    });\n  }\n\n  skipPrevious(e) {\n    spotifyApi.skipToPrevious();\n  }\n\n  setShuffle(e) {\n    let { shuffle } = this.state;\n    if (shuffle == false) {\n      spotifyApi.setShuffle(true);\n      this.setState({ shuffle: true });\n    } else {\n      spotifyApi.setShuffle(false);\n      this.setState({ shuffle: false });\n    }\n  }\n\n  setPause(e) {\n    spotifyApi.pause();\n    this.setState({ pause: true, play : false });\n  }\n\n  setRepeat(e) {\n    const { repeat_on } = this.state;\n    if (repeat_on == false) {\n      spotifyApi.setRepeat(track);\n      this.setState({ repeat_on: true });\n    } else {\n      spotifyApi.setRepeat(off);\n      this.setState({ repeat_on: false });\n    }\n  }\n\n  setPlay(e) {\n    const { pause } = this.state;\n    if (pause == true) {\n      spotifyApi.play();\n      this.setState({play: true, pause : false})\n    } else {\n      spotifyApi.play();\n      this.setState({play: true})\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"app-grid\">\n        <button onClick={this.getUser}>get user</button>\n        <h1>id: {this.state.user_id}</h1>\n        <ul className=\"menu-ul\">\n          <a href=\"http://localhost:8888\" className=\"menu-login\">\n            login\n          </a>\n        </ul>\n        <img\n          src={this.state.user_prof}\n          alt=\"user profile\"\n          className=\"user-prof\"\n        ></img>\n        <button onClick={this.setShuffle}>\n          <i>\n            <IoIosShuffle />\n          </i>\n        </button>\n        <button onClick={this.skipPrevious}>\n          <i>\n            <FaArrowAltCircleLeft />\n          </i>\n        </button>\n        <button onClick={this.setPause}>\n          <i>\n            <FaPauseCircle />\n          </i>\n        </button>\n        <button onClick={this.setRepeat}></button>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}