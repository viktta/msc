{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/victor/Documents/Projects/msc/msc_frontend/src/App.js\";\nimport React, { Component } from \"react\";\nimport SpotifyWebApi from \"spotify-web-api-js\";\nimport { IoIosShuffle } from \"react-icons/io\";\nimport { FaArrowAltCircleLeft } from \"react-icons/fa\";\nimport { FaPauseCircle } from \"react-icons/fa\";\nimport { GrPlayFill } from \"react-icons/gr\";\nimport { TiArrowRepeat } from \"react-icons/ti\";\nimport { BsFillVolumeDownFill } from \"react-icons/bs\";\nimport { BsFillVolumeUpFill } from \"react-icons/bs\";\nimport { FaArrowAltCircleRight } from \"react-icons/fa\";\nimport \"./styles/main.css\";\nimport { Switch, Route, Link, BrowserRouter as Router } from \"react-router-dom\";\nconst spotifyApi = new SpotifyWebApi();\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    const params = this.getHashParams();\n    const token = params.access_token;\n\n    if (token) {\n      spotifyApi.setAccessToken(token);\n    }\n\n    this.state = {\n      loggedIn: token ? true : false,\n      user: [],\n      user_id: localStorage.getItem(\"user_id\"),\n      user_prof: {},\n      shuffle: false,\n      repeat_on: false,\n      pause: false,\n      play: false,\n      cp: {},\n      ti: {}\n    };\n    this.getUser = this.getUser.bind(this);\n    this.setShuffle = this.setShuffle.bind(this);\n    this.skipPrevious = this.skipPrevious.bind(this);\n    this.setPause = this.setPause.bind(this);\n    this.setRepeat = this.setRepeat.bind(this);\n    this.setPlay = this.setPlay.bind(this);\n    this.setVolumeDown = this.setVolumeDown.bind(this);\n    this.setVolumeUp = this.setVolumeUp.bind(this);\n    this.setCurrentlyPlaying = this.setCurrentlyPlaying.bind(this);\n    this.skipNext = this.skipNext.bind(this);\n  }\n\n  getHashParams() {\n    var hashParams = {};\n    var e,\n        r = /([^&;=]+)=?([^&;]*)/g,\n        q = window.location.hash.substring(1);\n\n    while (e = r.exec(q)) {\n      hashParams[e[1]] = decodeURIComponent(e[2]);\n    }\n\n    return hashParams;\n  }\n\n  getUser(e) {\n    spotifyApi.getMe().then(res => {\n      this.setState({\n        user: res,\n        user_id: res.id,\n        user_prof: res.images[0].url\n      });\n    }).catch(err => {\n      alert('Token expired Please Login again');\n    });\n  }\n\n  componentDidMount() {\n    this.getUser();\n    this.setCurrentlyPlaying();\n  }\n\n  skipPrevious(e) {\n    spotifyApi.skipToPrevious();\n  }\n\n  setShuffle(e) {\n    let {\n      shuffle\n    } = this.state;\n\n    if (shuffle === false) {\n      spotifyApi.setShuffle(true);\n      this.setState({\n        shuffle: true\n      });\n    } else {\n      spotifyApi.setShuffle(false);\n      this.setState({\n        shuffle: false\n      });\n    }\n  }\n\n  setPause(e) {\n    spotifyApi.pause();\n    this.setState({\n      pause: true,\n      play: false\n    });\n  }\n\n  setRepeat(e) {\n    const {\n      repeat_on\n    } = this.state;\n\n    if (repeat_on === false) {\n      spotifyApi.setRepeat(\"track\");\n      this.setState({\n        repeat_on: true\n      });\n    } else {\n      spotifyApi.setRepeat(\"off\");\n      this.setState({\n        repeat_on: false\n      });\n    }\n  }\n\n  setPlay(e) {\n    const {\n      pause\n    } = this.state;\n\n    if (pause === true) {\n      spotifyApi.play();\n      this.setState({\n        play: true,\n        pause: false\n      });\n    } else {\n      spotifyApi.play();\n      this.setState({\n        play: true\n      });\n    }\n  }\n\n  setVolumeDown() {\n    spotifyApi.setVolume(50).then(res => {\n      console.log(res);\n    }).catch(err => {\n      alert(\"Cannot control device volume\");\n    });\n  }\n\n  setVolumeUp() {\n    spotifyApi.setVolume(100).then(res => {\n      console.log(res);\n    }).catch(err => {\n      alert(\"Cannot control device volume\");\n    });\n  }\n\n  setCurrentlyPlaying(e) {\n    spotifyApi.getMyCurrentPlaybackState(\"track, currently_playing_type\").then(res => {\n      this.setState({\n        cp: res,\n        ti: res.item.album.images[1].url\n      });\n      console.log(res);\n    });\n  }\n\n  skipNext(e) {\n    spotifyApi.skipToNext();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Router, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"app-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"menu-ul\",\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"http://localhost:8888\",\n            className: \"ul-link\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: this.state.user_prof,\n            alt: \"user profile\",\n            className: \"user-prof\",\n            style: {\n              height: 40\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"usr-id\",\n            children: [\"id: \", this.state.user_id]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"ms-b\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: this.setShuffle,\n            className: \"b-shuffle\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              children: /*#__PURE__*/_jsxDEV(IoIosShuffle, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: this.skipPrevious,\n            className: \"b-previous\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              children: /*#__PURE__*/_jsxDEV(FaArrowAltCircleLeft, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: this.skipNext,\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              children: /*#__PURE__*/_jsxDEV(FaArrowAltCircleRight, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: this.setPause,\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              children: /*#__PURE__*/_jsxDEV(FaPauseCircle, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: this.setPlay,\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              children: /*#__PURE__*/_jsxDEV(GrPlayFill, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: this.setRepeat,\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              children: /*#__PURE__*/_jsxDEV(TiArrowRepeat, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: this.setVolumeDown,\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              children: /*#__PURE__*/_jsxDEV(BsFillVolumeDownFill, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: this.setVolumeUp,\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              children: /*#__PURE__*/_jsxDEV(BsFillVolumeUpFill, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: this.state.ti,\n          alt: \"album\",\n          className: \"album-img\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"p-text\",\n          children: \"Login to use the app\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/victor/Documents/Projects/msc/msc_frontend/src/App.js"],"names":["React","Component","SpotifyWebApi","IoIosShuffle","FaArrowAltCircleLeft","FaPauseCircle","GrPlayFill","TiArrowRepeat","BsFillVolumeDownFill","BsFillVolumeUpFill","FaArrowAltCircleRight","Switch","Route","Link","BrowserRouter","Router","spotifyApi","App","constructor","props","params","getHashParams","token","access_token","setAccessToken","state","loggedIn","user","user_id","localStorage","getItem","user_prof","shuffle","repeat_on","pause","play","cp","ti","getUser","bind","setShuffle","skipPrevious","setPause","setRepeat","setPlay","setVolumeDown","setVolumeUp","setCurrentlyPlaying","skipNext","hashParams","e","r","q","window","location","hash","substring","exec","decodeURIComponent","getMe","then","res","setState","id","images","url","catch","err","alert","componentDidMount","skipToPrevious","setVolume","console","log","getMyCurrentPlaybackState","item","album","skipToNext","render","height"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport SpotifyWebApi from \"spotify-web-api-js\";\nimport { IoIosShuffle } from \"react-icons/io\";\nimport { FaArrowAltCircleLeft } from \"react-icons/fa\";\nimport { FaPauseCircle } from \"react-icons/fa\";\nimport { GrPlayFill } from \"react-icons/gr\";\nimport { TiArrowRepeat } from \"react-icons/ti\";\nimport { BsFillVolumeDownFill } from \"react-icons/bs\";\nimport { BsFillVolumeUpFill } from \"react-icons/bs\";\nimport { FaArrowAltCircleRight } from \"react-icons/fa\";\nimport \"./styles/main.css\";\nimport { Switch, Route, Link, BrowserRouter as Router } from \"react-router-dom\";\nconst spotifyApi = new SpotifyWebApi();\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    const params = this.getHashParams();\n    const token = params.access_token;\n    if (token) {\n      spotifyApi.setAccessToken(token);\n    }\n    this.state = {\n      loggedIn: token ? true : false,\n      user: [],\n      user_id: localStorage.getItem(\"user_id\"),\n      user_prof: {},\n      shuffle: false,\n      repeat_on: false,\n      pause: false,\n      play: false,\n      cp: {},\n      ti: {},\n    };\n    this.getUser = this.getUser.bind(this);\n    this.setShuffle = this.setShuffle.bind(this);\n    this.skipPrevious = this.skipPrevious.bind(this);\n    this.setPause = this.setPause.bind(this);\n    this.setRepeat = this.setRepeat.bind(this);\n    this.setPlay = this.setPlay.bind(this);\n    this.setVolumeDown = this.setVolumeDown.bind(this);\n    this.setVolumeUp = this.setVolumeUp.bind(this);\n    this.setCurrentlyPlaying = this.setCurrentlyPlaying.bind(this);\n    this.skipNext = this.skipNext.bind(this);\n  }\n\n  getHashParams() {\n    var hashParams = {};\n    var e,\n      r = /([^&;=]+)=?([^&;]*)/g,\n      q = window.location.hash.substring(1);\n    while ((e = r.exec(q))) {\n      hashParams[e[1]] = decodeURIComponent(e[2]);\n    }\n    return hashParams;\n  }\n\n  getUser(e) {\n    spotifyApi.getMe().then((res) => {\n      this.setState({\n        user: res,\n        user_id: res.id,\n        user_prof: res.images[0].url,\n      });\n    })\n    .catch(err => {\n        alert('Token expired Please Login again')\n    })\n  }\n\n  componentDidMount() {\n    this.getUser();\n    this.setCurrentlyPlaying();\n  }\n\n  skipPrevious(e) {\n    spotifyApi.skipToPrevious();\n  }\n\n  setShuffle(e) {\n    let { shuffle } = this.state;\n    if (shuffle === false) {\n      spotifyApi.setShuffle(true);\n      this.setState({ shuffle: true });\n    } else {\n      spotifyApi.setShuffle(false);\n      this.setState({ shuffle: false });\n    }\n  }\n\n  setPause(e) {\n    spotifyApi.pause();\n    this.setState({ pause: true, play: false });\n  }\n\n  setRepeat(e) {\n    const { repeat_on } = this.state;\n    if (repeat_on === false) {\n      spotifyApi.setRepeat(\"track\");\n      this.setState({ repeat_on: true });\n    } else {\n      spotifyApi.setRepeat(\"off\");\n      this.setState({ repeat_on: false });\n    }\n  }\n\n  setPlay(e) {\n    const { pause } = this.state;\n    if (pause === true) {\n      spotifyApi.play();\n      this.setState({ play: true, pause: false });\n    } else {\n      spotifyApi.play();\n      this.setState({ play: true });\n    }\n  }\n\n  setVolumeDown() {\n    spotifyApi\n      .setVolume(50)\n      .then((res) => {\n        console.log(res);\n      })\n      .catch((err) => {\n        alert(\"Cannot control device volume\");\n      });\n  }\n\n  setVolumeUp() {\n    spotifyApi\n      .setVolume(100)\n      .then((res) => {\n        console.log(res);\n      })\n      .catch((err) => {\n        alert(\"Cannot control device volume\");\n      });\n  }\n\n  setCurrentlyPlaying(e) {\n    spotifyApi\n      .getMyCurrentPlaybackState(\"track, currently_playing_type\")\n      .then((res) => {\n        this.setState({ cp: res, ti: res.item.album.images[1].url });\n        console.log(res);\n      });\n  }\n\n  skipNext(e) {\n    spotifyApi.skipToNext();\n  }\n\n  render() {\n    return (\n      <Router>\n        <div className=\"app-grid\">\n          <ul className=\"menu-ul\">\n            <a href='http://localhost:8888' className=\"ul-link\">\n              Login\n            </a>\n            <img\n              src={this.state.user_prof}\n              alt=\"user profile\"\n              className=\"user-prof\"\n              style={{ height: 40 }}\n            ></img>\n            <h1 className='usr-id'>id: {this.state.user_id}</h1>\n          </ul>\n          <ul className=\"ms-b\">\n            <button onClick={this.setShuffle} className='b-shuffle'>\n              <i>\n                <IoIosShuffle />\n              </i>\n            </button>\n            <button onClick={this.skipPrevious} className='b-previous'>\n              <i>\n                <FaArrowAltCircleLeft />\n              </i>\n            </button>\n            <button onClick={this.skipNext}>\n              <i>\n                <FaArrowAltCircleRight />\n              </i>\n            </button>\n            <button onClick={this.setPause}>\n              <i>\n                <FaPauseCircle />\n              </i>\n            </button>\n            <button onClick={this.setPlay}>\n              <i>\n                <GrPlayFill />\n              </i>\n            </button>\n            <button onClick={this.setRepeat}>\n              <i>\n                <TiArrowRepeat />\n              </i>\n            </button>\n            <button onClick={this.setVolumeDown}>\n              <i>\n                <BsFillVolumeDownFill />\n              </i>\n            </button>\n            <button onClick={this.setVolumeUp}>\n              <i>\n                <BsFillVolumeUpFill />\n              </i>\n            </button>\n          </ul>\n          <img src={this.state.ti} alt=\"album\" className=\"album-img\"></img>\n          <p className='p-text'>Login to use the app</p>\n        </div>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}